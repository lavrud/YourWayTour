<script language=javascript>
    function fone(obj, prox) {
        switch (obj.value.length) {
            case 1:
                obj.value = "(" + obj.value;
                break;
            case 3:
                obj.value = obj.value + ")";
                break;
            case 8:
                obj.value = obj.value + "-";
                break;
            case 13:
                prox.focus();
                break;
        }
    }

    function formata_data(obj, prox) {
        switch (obj.value.length) {
            case 2:
                obj.value = obj.value + "/";
                break;
            case 5:
                obj.value = obj.value + "/";
                break;
            case 9:
                prox.focus();
                break;
        }
    }

    function Apenas_Numeros(caracter) {
        var nTecla = 0;
        if (document.all) {
            nTecla = caracter.keyCode;
        } else {
            nTecla = caracter.which;
        }
        if ((nTecla > 47 && nTecla < 58) ||
            nTecla == 8 || nTecla == 127 ||
            nTecla == 0 || nTecla == 9 // 0 == Tab
            ||
            nTecla == 13) { // 13 == Enter
            return true;
        } else {
            return false;
        }
    }

    function validaCPF(cpf) {
        erro = new String;

        if (cpf.value.length == 11) {
            cpf.value = cpf.value.replace('.', '');
            cpf.value = cpf.value.replace('.', '');
            cpf.value = cpf.value.replace('-', '');

            var nonNumbers = /\D/;

            if (nonNumbers.test(cpf.value)) {
                erro = "A verificacao de CPF suporta apenas números!";
            } else {
                if (cpf.value == "00000000000" ||
                    cpf.value == "11111111111" ||
                    cpf.value == "22222222222" ||
                    cpf.value == "33333333333" ||
                    cpf.value == "44444444444" ||
                    cpf.value == "55555555555" ||
                    cpf.value == "66666666666" ||
                    cpf.value == "77777777777" ||
                    cpf.value == "88888888888" ||
                    cpf.value == "99999999999") {

                    erro = "Número de CPF inválido!"
                }

                var a = [];
                var b = new Number;
                var c = 11;

                for (i = 0; i < 11; i++) {
                    a[i] = cpf.value.charAt(i);
                    if (i < 9) b += (a[i] * --c);
                }

                if ((x = b % 11) < 2) {
                    a[9] = 0
                } else {
                    a[9] = 11 - x
                }
                b = 0;
                c = 11;

                for (y = 0; y < 10; y++) b += (a[y] * c--);

                if ((x = b % 11) < 2) {
                    a[10] = 0;
                } else {
                    a[10] = 11 - x;
                }

                if ((cpf.value.charAt(9) != a[9]) || (cpf.value.charAt(10) != a[10])) {
                    erro = "Número de CPF inválido.";

                }
            }
        } else {
            if (cpf.value.length == 0)
                return false
            else
                erro = "Número de CPF inválido.";
        }
        if (erro.length > 0) {
            alert(erro);
            cpf.focus();
            return false;
        }
        return true;
    }

    //envento onkeyup
    function maskCPF(CPF) {
        var evt = window.event;
        kcode = evt.keyCode;
        if (kcode == 8) return;
        if (CPF.value.length == 3) {
            CPF.value = CPF.value + '.';
        }
        if (CPF.value.length == 7) {
            CPF.value = CPF.value + '.';
        }
        if (CPF.value.length == 11) {
            CPF.value = CPF.value + '-';
        }
    }

    // evento onBlur
    function formataCPF(CPF) {
        with(CPF) {
            value = value.substr(0, 3) + '.' +
                value.substr(3, 3) + '.' +
                value.substr(6, 3) + '-' +
                value.substr(9, 2);
        }
    }

    function retiraFormatacao(CPF) {
        with(CPF) {
            value = value.replace(".", "");
            value = value.replace(".", "");
            value = value.replace("-", "");
            value = value.replace("/", "");
        }
    }
    //-->
    function validarCNPJ(cnpj) {

        cnpj = cnpj.replace(/[^\d]+/g, '');

        if (cnpj == '') return false;

        if (cnpj.length != 14)
            return false;

        // Elimina CNPJs invalidos conhecidos
        if (cnpj == "00000000000000" ||
            cnpj == "11111111111111" ||
            cnpj == "22222222222222" ||
            cnpj == "33333333333333" ||
            cnpj == "44444444444444" ||
            cnpj == "55555555555555" ||
            cnpj == "66666666666666" ||
            cnpj == "77777777777777" ||
            cnpj == "88888888888888" ||
            cnpj == "99999999999999")
            return false;

        // Valida DVs
        tamanho = cnpj.length - 2
        numeros = cnpj.substring(0, tamanho);
        digitos = cnpj.substring(tamanho);
        soma = 0;
        pos = tamanho - 7;
        for (i = tamanho; i >= 1; i--) {
            soma += numeros.charAt(tamanho - i) * pos--;
            if (pos < 2)
                pos = 9;
        }
        resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
        if (resultado != digitos.charAt(0))
            return false;

        tamanho = tamanho + 1;
        numeros = cnpj.substring(0, tamanho);
        soma = 0;
        pos = tamanho - 7;
        for (i = tamanho; i >= 1; i--) {
            soma += numeros.charAt(tamanho - i) * pos--;
            if (pos < 2)
                pos = 9;
        }
        resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
        if (resultado != digitos.charAt(1))
            return false;

        return true;

    }

</script>

<form id="form" name="form" method="post" action="?">
    Tel:<input name="telefone" type="text" id="telefone" maxLength="13" size="13" onKeyPress="fone(this,document.form.data)"> Formato: (11)1111-1111<br> Cel: <input name="celular" type="text" id="celular" maxLength="14" size="13" onKeyPress="fone(this,document.form.data)"> Formato: (11)1111-1111<br> Data:
    <input name="data" type="text" id="data" onKeyPress="formata_data(this,document.form.cpf);return Apenas_Numeros(event);" size="11" maxlength="11"> Formato: MM/DD/AAAA<br> CPF:
    <input name="cpf" type="text" class="imput" id="cpf" size="12" maxlength="11" onKeyPress="return Apenas_Numeros(event);" onBlur="validaCPF(this);">
    <br> CNPJ:
    <input name="cnpj" type="text" class="imput" id="cnpj" size="12" maxlength="14" onKeyPress="return Apenas_Numeros(event);" onBlur="validarCNPJ(this);">
    <br>
    <input type="submit" name="enviar" value="Enviar">
